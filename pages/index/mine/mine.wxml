<scroll-view  class="mine-scroll" >
  <view class="mine-header">
    <image src="../../../imgs/9924.png" mode="scaleToFill" class="header-bg"></image>
    <view class="header-content">
      <image class="user-avatar" src="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=2922170376,2371336021&fm=27&gp=0.jpg"></image>
      <view class="user-info">
        <view class="user-name">{{account.currentCompany}}</view>
        <view class="user-id">ID:{{account.currentId}}</view>
      </view>
      <button class="toggle-account theme-color" bindtap="showToggleAccountPop">切换账号</button>
    </view>
  </view>
  <view class="todo-list shadow-wrap">
    <view class="todo-list-title solid-bottom">待处理事项</view>
    <view class="todo-item-wrapper">
      <view class="todo-item" wx:for="{{todoList}}" wx:key>
        <view class="todo-icon bg-{{item.color}} cuIcon-moneybag shadow"></view>
        <text class="todo-name">{{item.name}}</text>
        <text class="todo-count text-{{item.color}}" wx:if="{{item.count!==0}}">({{item.count}})</text>
      </view>
    </view>
  </view>
  <view class="option" wx:for="{{optionList}}" wx:key>
    <view class="setting">
      <view class="option-item solid-top solid-bottom" wx:for="{{item}}" wx:for-item="optionItem" wx:key>
        <view class="option-icon cuIcon-peoplelist text-{{module.getColor(index)}}"></view>
        <view class="option-name">{{optionItem.name}}</view>
        <view class="arrow-right cuIcon-right"></view>
      </view>
    </view>
  </view>
  <button bindtap="logout" class="logout bg-red">退出登陆</button>
  
  <view class="toggle-account-pop-wrappper" wx:if="{{showToggleAccountPop}}" >
    <view class="toggle-account-pop">
      <view class="pop-content">
        <view class="pop-title">切换账号</view>
      <scroll-view scroll-y>
        <view class="account bg-gray {{account.checked===item.id?'active':' text-gray'}}" bindtap="toggleAccount" data-id="{{item.id}}" wx:for="{{account.list}}" wx:key>{{item.company}}</view>
      </scroll-view>
      </view>
      <view class="operation-btn solid-top">
        <view class="cancel solid-right" bindtap="toggleAccountCancel">取消</view>
        <view class="confirm theme-color" bindtap="toggleAccountConfirm">确定</view>
      </view>

    </view>
  </view>
</scroll-view>

<wxs module="module">
  var colors = ["orange", "blue", "red", "green", "purple", "pink"];
  var getColor = function(index) {
    return colors[index % 6]
  }
  module.exports.getColor = getColor;
</wxs>